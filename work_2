import turtle

# Налаштування екрану та "черепашки"
t = turtle.Turtle()
screen = turtle.Screen()
screen.title("Дерево Піфагора (Фрактал)")

# Робимо малювання швидким
t.speed(0)  
t.color("brown") # Колір стовбура
t.pensize(2)

def draw_tree(branch_length, level):
    """
    Рекурсивна функція для малювання дерева.
    branch_length: довжина гілки
    level: рівень рекурсії (глибина)
    """
    
    # Базовий випадок: якщо рівень 0, зупиняємось і нічого не малюємо
    if level == 0:
        return

    # 1. Малюємо стовбур (рухаємось вперед)
    t.forward(branch_length)

    # 2. Повертаємо направо для малювання правої гілки
    t.right(45)

    # 3. РЕКУРСІЯ: Викликаємо ту саму функцію для меншої гілки
    # Довжину зменшуємо (множимо на 0.7), рівень зменшуємо на 1
    draw_tree(branch_length * 0.7, level - 1)

    # 4. Повертаємо наліво (45 + 45 = 90 градусів), щоб малювати ліву гілку
    t.left(90)

    # 5. РЕКУРСІЯ: Малюємо ліву гілку
    draw_tree(branch_length * 0.7, level - 1)

    # 6. Повертаємо направо, щоб вирівняти напрямок (повернутись у вихідне положення)
    t.right(45)

    # 7. Повертаємось назад по стовбуру, щоб малювати інші гілки
    t.backward(branch_length)

# --- Головна частина програми ---

try:
    # Запитуємо у користувача рівень рекурсії
    recursion_level = int(input("Введіть рівень рекурсії (рекомендовано 5-8): "))
    
    # Початкове позиціонування
    t.left(90)   # Повертаємо черепашку догори
    t.up()       # Піднімаємо перо, щоб переміститись без малювання
    t.goto(0, -200) # Зсуваємо вниз екрану
    t.down()     # Опускаємо перо

    # Запускаємо малювання
    print("Малюю дерево...")
    draw_tree(100, recursion_level)
    print("Готово! Клікніть на вікно з малюнком, щоб закрити його.")

    # Чекаємо кліку по екрану для виходу
    screen.exitonclick()

except ValueError:
    print("Будь ласка, введіть ціле число.")
